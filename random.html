<!DOCTYPE html>
<html manifest="pinyin.manifest">

<head>
    <meta http-equiv=Content-Type content="text/html;charset=utf-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>æ‹¼éŸ³ç»„åˆ</title>
</head>
<link rel="stylesheet" type="text/css" href="pinyin.css">

<body>

    <div class="wrap">

        <div>
            <select id="sel" value="ym">
                <option value="ym">éŸµæ¯</option>
                <option value="sm">å£°æ¯</option>
            </select>
            <button id="rd">æ‰“ä¹±</button>
        </div>


        <div class="box">
            <!-- <span>Ä  Ã¡  Ç  Ã   Å  Ã³  Ç’  Ã²  Ä“  Ã©  Ä›  Ã¨  Ä«  Ã­  Ç  Ã¬  Å«  Ãº  Ç”  Ç”  Ç–  Ç˜  Çš  Çœ</span>
        <span>b  p  m  f  d  t  n  l  g  k  h  j  q  x  zh  ch  sh  r  z  c  s  y  w</span>
  -->
            <span id="char">æŒ‰ç©ºæ ¼å¼€å§‹</span>
        </div>
    </div>

    <script>

        const yunmu = ['Ä', 'Ã¡', 'Ç', 'Ã ', 'Å', 'Ã³', 'Ç’', 'Ã²', 'Ä“', 'Ã©', 'Ä›', 'Ã¨', 'Ä«', 'Ã­', 'Ç', 'Ã¬', 'Å«', 'Ãº', 'Ç”', 'Ç”', 'Ç–', 'Ç˜', 'Çš', 'Çœ']
        const shengmu = ['b', 'p', 'm', 'f', 'd', 't', 'n', 'l', 'g', 'k', 'h', 'j', 'q', 'x', 'zh', 'ch', 'sh', 'r', 'z', 'c', 's', 'y', 'w']

        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        var shuffleYunmu = shuffleArray([...yunmu]);
        var shuffleShengmu = shuffleArray([...shengmu]);

        document.querySelector('#rd').addEventListener('click', (e) => {
            shuffleYunmu = shuffleArray([...yunmu]);
            shuffleShengmu = shuffleArray([...shengmu]);
            e.target.blur()
        })

        const sl = document.querySelector('#sel')
        const char = document.querySelector('#char')

        const randomPick = () => {
            let ch = ''

            if (sl.value == 'ym') {
                ch = shuffleYunmu.pop()
            }

            if (sl.value == 'sm') {
                ch = shuffleShengmu.pop()
            }

            char.innerHTML = ch ? `<span style="font-size:30vw">${ch}</span>` : 'ğŸ‰'
        }

        document.body.addEventListener('keypress', (x) => {
            console.log(shuffleShengmu, shuffleYunmu);
            if (x.code = "Space") {
                randomPick()
            }

        })

        document.body.addEventListener('touchstart', () => {
            randomPick()
        })
    </script>


</body>

</html>